<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../vista/menu.css">
    <script src="../controlador/menu.js"></script>
    <title>Menu-RRHH</title>
</head>

<body>

    <header class="header">
        <div class="logo">
            <img src="../img/logoi2t.jpg" alt="Logo I2T"> 
        </div>
        <nav>
            <ul class="nav-links">
                <li><a href="../vista/menu.html">Menú</a></li>
                <li><a href="../vista/pedidos.html">Pedidos</a></li>
                <li><a href="../vista/gestionarusuarios.html">Gestión de Usuarios</a></li>
                <li><a href="../vista/login.html">Cerrar Sesión</a></li>
            </ul>
        </nav>
    </header>

    <div id="mensaje-bienvenida" class="mensaje-bienvenida"></div>

    <div class="contenedor-menu">
        <h2 class = "menudisp">Menú Disponible</h2>
        <table id="tabla-menu">
            <thead>
                <tr>
                    <th>Plato</th>
                    <th>Semana 1</th>
                    <th>Semana 2</th>
                    <th>Semana 3</th>
                    <th>Semana 4</th>
                </tr>
            </thead>
            <tbody id="tabla-menu-body">
                <!-- Filas q me genera buscando la info en el js -->
            </tbody>
        </table>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const usuarioActual = JSON.parse(localStorage.getItem('usuarioActual'));
            
            // Si hay un usuario almacenado, da el mensaje de bienvenida
            if (usuarioActual) {
                const mensajeBienvenida = document.getElementById('mensaje-bienvenida');
                const nombre = usuarioActual.usuario_nombre; 
                const rol = usuarioActual.rol;

                // Determinar el nombre del rol
                let rolNombre;
                switch (usuarioActual.id_rol) {
                    case 1:
                        rolNombre = "Administrador";
                        break;
                    case 2:
                        rolNombre = "RRHH";
                        break;
                    case 3:
                        rolNombre = "Proveedor";
                        break;
                    case 4:
                        rolNombre = "Empleado de i2T";
                        break;
                    default:
                        rolNombre = "Usuario no registrado";
                }

                // Mostrar el mensaje de bienvenida
                mensajeBienvenida.textContent = `¡Bienvenid@ ${nombre} - Iniciaste sesión como ${rolNombre}!`;
                
                    setTimeout(() => {
                    mensajeBienvenida.style.opacity = '0'; 
                    setTimeout(() => {
                        mensajeBienvenida.style.display = 'none';
                    }, 500);
                }, 5000); 
            }
        });
    </script>


</body>

</html>